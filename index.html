<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Vapy achraf shop bouznika Marketplace</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f8f9fa; }
        #viewer { height: 400px; border: 1px solid #ccc; }
        .product-card { margin: 10px; }
        #cart { position: fixed; top: 10px; right: 10px; width: 300px; background: white; padding: 10px; border: 1px solid #ccc; display: none; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Achraf Shop</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#products">Products</a></li>
                    <li class="nav-item"><a class="nav-link" href="#viewer">3D Viewer</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
                    <li class="nav-item"><button class="btn btn-outline-light" onclick="toggleCart()">Cart (<span id="cart-count">0</span>)</button></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <section id="products">
            <h2>green boys tel lmot </h2>
            <div class="row" id="product-list">
                <!-- Products loaded dynamically -->
            </div>
        </section>

        <section id="viewer" class="mt-5">
            <h2>3D Product Viewer</h2>
            <div id="threejs-container" style="width: 100%; height: 400px;"></div>
        </section>

        <section id="contact" class="mt-5">
            <h2>Contact Us</h2>
            <form id="contact-form">
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" class="form-control" id="name" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" required>
                </div>
                <div class="mb-3">
                    <label for="message" class="form-label">Message (e.g., Sell Your Vape)</label>
                    <textarea class="form-control" id="message" rows="3" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </section>
    </div>

    <div id="cart">
        <h4>Shopping Cart</h4>
        <ul id="cart-items"></ul>
        <button class="btn btn-success" onclick="checkout()">Checkout</button>
        <button class="btn btn-secondary" onclick="toggleCart()">Close</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Mock product data
        const products = [
            { id: 1, name: "waka banane 20k", price: 30€, description: "  original vape.", image: "https://via.placeholder.com/200" },
            { id: 2, name: "waka frais 40k ", price: 50€, description: "original vape.", image: "https://via.placeholder.com/200" },
            { id: 3, name: "waka kiwi 100k", price: 80€, description: "original vape.", image: "https://via.placeholder.com/200" }
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Load products
        const productList = document.getElementById('product-list');
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'col-md-4 product-card';
            card.innerHTML = `
                <div class="card">
                    <img src="${product.image}" class="card-img-top" alt="${product.name}">
                    <div class="card-body">
                        <h5 class="card-title">${product.name}</h5>
                        <p class="card-text">${product.description}</p>
                        <p class="card-text">$${product.price}</p>
                        <button class="btn btn-primary" onclick="addToCart(${product.id})">Add to Cart</button>
                    </div>
                </div>
            `;
            productList.appendChild(card);
        });

        // Cart functions
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
        }

        function updateCartCount() {
            document.getElementById('cart-count').textContent = cart.length;
        }

        function toggleCart() {
            const cartDiv = document.getElementById('cart');
            cartDiv.style.display = cartDiv.style.display === 'none' ? 'block' : 'none';
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            cart.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.name} - $${item.price}`;
                cartItems.appendChild(li);
            });
        }

        function checkout() {
            alert('Checkout simulation: Total items: ' + cart.length + '. Integrate with Stripe for real payments.');
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            toggleCart();
        }

        // Contact form
        document.getElementById('contact-form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Message sent! (In a real site, send to backend.)');
        });

        // 3D Viewer with Three.js
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, document.getElementById('threejs-container').clientWidth / 400, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(document.getElementById('threejs-container').clientWidth, 400);
        document.getElementById('threejs-container').appendChild(renderer.domElement);

        const geometry = new THREE.CylinderGeometry(0.5, 0.5, 2, 32);
        const material = new THREE.MeshLambertMaterial({ color: 0x00ff00 });
        const vape = new THREE.Mesh(geometry, material);
        scene.add(vape);

        const light = new THREE.AmbientLight(0x404040);
        scene.add(light);
        camera.position.z = 5;

        function animate() {
            requestAnimationFrame(animate);
            vape.rotation.x += 0.01;
            vape.rotation.y += 0.01;
            renderer.render(scene, camera);
        }
        animate();

        updateCartCount();
    </script>
</body>
</html>
